/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={17:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([4263,0]);return checkDeferredModules()})({10:function(module,exports){module.exports=vendors},1373:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var empty_state_1=__webpack_require__(4276);exports.EmptyStateQuery=empty_state_1.EmptyStateQuery;var error_list_1=__webpack_require__(4279);exports.ErrorListQuery=error_list_1.ErrorListQuery;var filter_bar_1=__webpack_require__(4291);exports.FilterBarQuery=filter_bar_1.FilterBarQuery;var monitor_charts_1=__webpack_require__(4294);exports.MonitorChartsQuery=monitor_charts_1.MonitorChartsQuery;var monitor_list_1=__webpack_require__(4297);exports.MonitorListQuery=monitor_list_1.MonitorListQuery;var monitor_status_bar_1=__webpack_require__(4300);exports.MonitorStatusBarQuery=monitor_status_bar_1.MonitorStatusBarQuery;var ping_list_1=__webpack_require__(4304);exports.PingListQuery=ping_list_1.PingListQuery;var snapshot_1=__webpack_require__(4307);exports.SnapshotQuery=snapshot_1.SnapshotQuery},1374:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));exports.EmptyState=function(_ref){var children=_ref.children,count=_ref.count;return react_2.default.createElement(react_2.Fragment,null,!count&&react_2.default.createElement(eui_1.EuiEmptyPrompt,{title:react_2.default.createElement(eui_1.EuiTitle,{size:"l"},react_2.default.createElement("h3",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.emptyState.noDataTitle",defaultMessage:"No uptime data available"}))),body:react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.emptyState.configureHeartbeatToGetStartedMessage",defaultMessage:"{configureHeartbeatLink} to start collecting uptime data.",values:{configureHeartbeatLink:react_2.default.createElement(eui_1.EuiLink,{target:"_blank",href:"https://www.elastic.co/guide/en/beats/heartbeat/current/configuring-howto-heartbeat.html"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.emptyState.configureHeartbeatLinkText",defaultMessage:"Configure Heartbeat"}))}})))}),!!count&&count>0&&children)}},1375:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.EmptyStatusBar=function(_ref){var message=_ref.message,monitorId=_ref.monitorId;return react_1.default.createElement(eui_1.EuiPanel,null,react_1.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"l"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},!message?"No data found for monitor id "+monitorId:message)))}},1376:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var moment_1=tslib_1.__importDefault(__webpack_require__(11));var react_2=tslib_1.__importStar(__webpack_require__(0));var react_router_dom_1=__webpack_require__(28);var format_sparkline_counts_1=__webpack_require__(4285);var MONITOR_LIST_DEFAULT_PAGINATION=10;var monitorListPagination={initialPageSize:MONITOR_LIST_DEFAULT_PAGINATION,pageSizeOptions:[5,10,20,50]};exports.MonitorList=function(_ref){var dangerColor=_ref.dangerColor,loading=_ref.loading,monitors=_ref.monitors,primaryColor=_ref.primaryColor;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h5",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorList.monitoringStatusTitle",defaultMessage:"Monitor status"}))),react_2.default.createElement(eui_1.EuiPanel,{paddingSize:"l"},react_2.default.createElement(eui_1.EuiInMemoryTable,{columns:[{field:"ping.monitor.status",name:i18n_1.i18n.translate("xpack.uptime.monitorList.statusColumnLabel",{defaultMessage:"Status"}),render:function render(status){return react_2.default.createElement(eui_1.EuiHealth,{color:status==="up"?"success":"danger"},status==="up"?i18n_1.i18n.translate("xpack.uptime.monitorList.statusColumn.upLabel",{defaultMessage:"Up"}):i18n_1.i18n.translate("xpack.uptime.monitorList.statusColumn.downLabel",{defaultMessage:"Down"}))}},{field:"ping.timestamp",name:i18n_1.i18n.translate("xpack.uptime.monitorList.lastUpdatedColumnLabel",{defaultMessage:"Last updated"}),render:function render(timestamp){return moment_1.default(timestamp).fromNow()}},{field:"ping.monitor.host",name:i18n_1.i18n.translate("xpack.uptime.monitorList.hostColumnLabel",{defaultMessage:"Host"}),render:function render(host,monitor){return react_2.default.createElement(react_router_dom_1.Link,{to:"/monitor/"+monitor.key.id},host||monitor.key.id)}},{field:"key.port",name:i18n_1.i18n.translate("xpack.uptime.monitorList.portColumnLabel",{defaultMessage:"Port"}),sortable:true},{field:"ping.monitor.type",name:i18n_1.i18n.translate("xpack.uptime.monitorList.typeColumnLabel",{defaultMessage:"Type"}),sortable:true},{field:"ping.monitor.ip",name:i18n_1.i18n.translate("xpack.uptime.monitorList.ipColumnLabel",{defaultMessage:"IP"})},{field:"upSeries",name:i18n_1.i18n.translate("xpack.uptime.monitorList.monitorHistoryColumnLabel",{defaultMessage:"Monitor History"}),render:function render(upSeries,monitor){var downSeries=monitor.downSeries;return react_2.default.createElement(eui_1.EuiSeriesChart,{showDefaultAxis:false,width:180,height:70,stackBy:"y",style:{marginBottom:"-20px"},xType:eui_1.EuiSeriesChartUtils.SCALE.TIME,xCrosshairFormat:"YYYY-MM-DD hh:mmZ"},react_2.default.createElement(eui_1.EuiHistogramSeries,{data:format_sparkline_counts_1.formatSparklineCounts(downSeries),name:i18n_1.i18n.translate("xpack.uptime.monitorList.downLineSeries.downLabel",{defaultMessage:"Down"}),color:dangerColor}),react_2.default.createElement(eui_1.EuiHistogramSeries,{data:format_sparkline_counts_1.formatSparklineCounts(upSeries),name:i18n_1.i18n.translate("xpack.uptime.monitorList.upLineSeries.upLabel",{defaultMessage:"Up"}),color:primaryColor}))}}],loading:loading,items:monitors,pagination:monitorListPagination})))}},1377:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var windowRatio=.515238095238095;exports.SnapshotHistogram=function(_ref){var dangerColor=_ref.dangerColor,histogram=_ref.histogram,primaryColor=_ref.primaryColor,windowWidth=_ref.windowWidth;return react_1.default.createElement(eui_1.EuiSeriesChart,{width:windowWidth*windowRatio,height:120,stackBy:"y",xType:eui_1.EuiSeriesChartUtils.SCALE.TIME,xCrosshairFormat:"YYYY-MM-DD hh:mmZ"},react_1.default.createElement(eui_1.EuiHistogramSeries,{data:histogram.map(function(_ref2){var x=_ref2.x,x0=_ref2.x0,upCount=_ref2.upCount;return{x:x,x0:x0,y:upCount}}),name:i18n_1.i18n.translate("xpack.uptime.snapshotHistogram.series.upLabel",{defaultMessage:"Up"}),color:primaryColor}),react_1.default.createElement(eui_1.EuiHistogramSeries,{data:histogram.map(function(_ref3){var x=_ref3.x,x0=_ref3.x0,downCount=_ref3.downCount;return{x:x,x0:x0,y:downCount}}),name:i18n_1.i18n.translate("xpack.uptime.snapshotHistogram.series.downLabel",{defaultMessage:"Down"}),color:dangerColor}))}},4263:function(module,exports,__webpack_require__){"use strict";__webpack_require__(70);__webpack_require__(71);__webpack_require__(72);__webpack_require__(73);__webpack_require__(74);__webpack_require__(75);__webpack_require__(76);__webpack_require__(77);__webpack_require__(78);__webpack_require__(79);__webpack_require__(80);__webpack_require__(81);__webpack_require__(82);__webpack_require__(83);__webpack_require__(84);__webpack_require__(85);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(91);__webpack_require__(92);__webpack_require__(93);__webpack_require__(94);__webpack_require__(95);__webpack_require__(96);__webpack_require__(97);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);__webpack_require__(102);__webpack_require__(103);__webpack_require__(104);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(111);__webpack_require__(112);__webpack_require__(113);__webpack_require__(114);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);__webpack_require__(118);__webpack_require__(119);__webpack_require__(120);__webpack_require__(121);__webpack_require__(122);__webpack_require__(123);__webpack_require__(124);__webpack_require__(125);__webpack_require__(126);__webpack_require__(127);__webpack_require__(128);__webpack_require__(129);__webpack_require__(130);__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(172);var _i18n=__webpack_require__(5);var _kibanaCore__=__webpack_require__(169);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.load(injectedMetadata.i18n.translationsUrl).catch(function(e){return e}).then(function(i18nError){var coreSystem=new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(4264)}});var coreStartContract=coreSystem.start();if(i18nError){coreStartContract.fatalErrors.add(i18nError)}})},4264:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(4265)},4265:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var kibana_compose_1=__webpack_require__(4266);var start_app_1=__webpack_require__(4271);start_app_1.startApp(kibana_compose_1.compose())},4266:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var routes_1=tslib_1.__importDefault(__webpack_require__(13));var kibana_framework_adapter_1=__webpack_require__(4267);function compose(){var libs={framework:new kibana_framework_adapter_1.UMKibanaFrameworkAdapter(routes_1.default)};return libs}exports.compose=compose},4267:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var react_dom_1=tslib_1.__importDefault(__webpack_require__(15));var react_dom_2=__webpack_require__(15);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var constants_1=__webpack_require__(4268);var UMKibanaFrameworkAdapter=function UMKibanaFrameworkAdapter(uiRoutes,dateRangeStart,dateRangeEnd,autorefreshInterval,autorefreshIsPaused){var _this=this;_classCallCheck(this,UMKibanaFrameworkAdapter);this.render=function(renderComponent,createGraphQLClient){var route={controllerAs:"uptime",controller:function controller($scope,$route,$http,config){var graphQLClient=createGraphQLClient(_this.uriPath,_this.xsrfHeader);config.bindToScope($scope,"k7design");$scope.$$postDigest(function(){var elem=document.getElementById("uptimeReactRoot");var kibanaBreadcrumbs=[];if($scope.k7design){chrome_1.default.breadcrumbs.get$().subscribe(function(breadcrumbs){kibanaBreadcrumbs=breadcrumbs})}var basePath=chrome_1.default.getBasePath();var routerBasename=basePath.endsWith("/")?basePath+"/"+constants_1.PLUGIN.ROUTER_BASE_NAME:basePath+constants_1.PLUGIN.ROUTER_BASE_NAME;var persistedState=_this.initializePersistedState();var darkMode=config.get("theme:darkMode",false)||false;var autorefreshIsPaused=persistedState.autorefreshIsPaused,autorefreshInterval=persistedState.autorefreshInterval,dateRangeStart=persistedState.dateRangeStart,dateRangeEnd=persistedState.dateRangeEnd;react_dom_1.default.render(renderComponent({basePath:basePath,darkMode:darkMode,isUsingK7Design:$scope.k7design,updateBreadcrumbs:chrome_1.default.breadcrumbs.set,kibanaBreadcrumbs:kibanaBreadcrumbs,routerBasename:routerBasename,graphQLClient:graphQLClient,initialAutorefreshIsPaused:autorefreshIsPaused,initialAutorefreshInterval:autorefreshInterval,initialDateRangeStart:dateRangeStart,initialDateRangeEnd:dateRangeEnd,persistState:_this.updatePersistedState}),elem);_this.manageAngularLifecycle($scope,$route,elem)})},template:'<uptime-app section="kibana" id="uptimeReactRoot" class="app-wrapper-panel"></uptime-app>'};_this.uiRoutes.enable();_this.uiRoutes.otherwise(route)};this.manageAngularLifecycle=function($scope,$route,elem){var lastRoute=$route.current;var deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;if(lastRoute.$$route&&lastRoute.$$route.template===currentRoute.$$route.template){$route.current=lastRoute}});$scope.$on("$destroy",function(){deregister();react_dom_2.unmountComponentAtNode(elem)})};this.initializePersistedState=function(){var uptimeConfigurationData=window.localStorage.getItem(constants_1.PLUGIN.LOCAL_STORAGE_KEY);var defaultState={autorefreshIsPaused:_this.defaultAutorefreshIsPaused,autorefreshInterval:_this.defaultAutorefreshInterval,dateRangeStart:_this.defaultDateRangeStart,dateRangeEnd:_this.defaultDateRangeEnd};try{if(uptimeConfigurationData){var parsed=JSON.parse(uptimeConfigurationData)||{};var _dateRangeStart=parsed.dateRangeStart,_dateRangeEnd=parsed.dateRangeEnd;if(_dateRangeEnd&&typeof _dateRangeEnd==="number"||_dateRangeStart&&typeof _dateRangeStart==="number"){_this.updatePersistedState(defaultState);return defaultState}return parsed}}catch(e){throw e}_this.updatePersistedState(defaultState);return defaultState};this.updatePersistedState=function(state){window.localStorage.setItem(constants_1.PLUGIN.LOCAL_STORAGE_KEY,JSON.stringify(state))};this.uiRoutes=uiRoutes;this.xsrfHeader=chrome_1.default.getXsrfToken();this.uriPath=chrome_1.default.getBasePath()+"/api/uptime/graphql";this.defaultDateRangeStart=dateRangeStart||"now-15m";this.defaultDateRangeEnd=dateRangeEnd||"now";this.defaultAutorefreshInterval=autorefreshInterval||60*1e3;this.defaultAutorefreshIsPaused=autorefreshIsPaused||true};exports.UMKibanaFrameworkAdapter=UMKibanaFrameworkAdapter},4268:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var index_names_1=__webpack_require__(4269);exports.INDEX_NAMES=index_names_1.INDEX_NAMES;var plugin_1=__webpack_require__(4270);exports.PLUGIN=plugin_1.PLUGIN},4269:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.INDEX_NAMES={HEARTBEAT:"heartbeat-6*"}},4270:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PLUGIN={ID:"uptime",ROUTER_BASE_NAME:"/app/uptime#/",LOCAL_STORAGE_KEY:"xpack.uptime"}},4271:function(module,exports,__webpack_require__){"use strict";var startApp=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(libs){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:libs.framework.render(uptime_app_1.UptimeApp,apollo_client_adapter_1.createApolloClient);case 1:case"end":return _context.stop()}}},_callee,this)}));return function startApp(_x){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(740);__webpack_require__(507);__webpack_require__(202);__webpack_require__(239);__webpack_require__(175);__webpack_require__(186);__webpack_require__(374);var apollo_client_adapter_1=__webpack_require__(4272);var uptime_app_1=__webpack_require__(4273);exports.startApp=startApp},4272:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var apollo_cache_inmemory_1=__webpack_require__(1288);var apollo_client_1=__webpack_require__(1289);var apollo_link_http_1=__webpack_require__(1290);exports.createApolloClient=function(uri,xsrfHeader){return new apollo_client_1.ApolloClient({link:new apollo_link_http_1.HttpLink({uri:uri,credentials:"same-origin",headers:{"kbn-xsrf":xsrfHeader}}),cache:new apollo_cache_inmemory_1.InMemoryCache({dataIdFromObject:function dataIdFromObject(){return undefined}})})}},4273:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var eui_theme_dark_json_1=tslib_1.__importDefault(__webpack_require__(1291));var eui_theme_light_json_1=tslib_1.__importDefault(__webpack_require__(1292));var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var react_router_dom_1=__webpack_require__(28);var i18n_2=__webpack_require__(12);var breadcrumbs_1=__webpack_require__(844);var pages_1=__webpack_require__(4274);var Application=function(_react_2$default$Comp){_inherits(Application,_react_2$default$Comp);function Application(props){_classCallCheck(this,Application);var _this=_possibleConstructorReturn(this,(Application.__proto__||Object.getPrototypeOf(Application)).call(this,props));_this.persistState=function(){var _this$state=_this.state,autorefreshIsPaused=_this$state.autorefreshIsPaused,autorefreshInterval=_this$state.autorefreshInterval,dateRangeStart=_this$state.dateRangeStart,dateRangeEnd=_this$state.dateRangeEnd;_this.props.persistState({autorefreshIsPaused:autorefreshIsPaused,autorefreshInterval:autorefreshInterval,dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd})};var darkMode=props.darkMode,autorefreshIsPaused=props.initialAutorefreshIsPaused,autorefreshInterval=props.initialAutorefreshInterval,dateRangeStart=props.initialDateRangeStart,dateRangeEnd=props.initialDateRangeEnd,isUsingK7Design=props.isUsingK7Design,kibanaBreadcrumbs=props.kibanaBreadcrumbs,updateBreadcrumbs=props.updateBreadcrumbs;var initialBreadcrumbs=void 0;if(isUsingK7Design){_this.setBreadcrumbs=updateBreadcrumbs;initialBreadcrumbs=kibanaBreadcrumbs}else{_this.setBreadcrumbs=function(breadcrumbs){return _this.setState({breadcrumbs:breadcrumbs})};initialBreadcrumbs=[breadcrumbs_1.overviewBreadcrumb]}var colors=void 0;if(darkMode){colors={primary:eui_theme_dark_json_1.default.euiColorVis1,secondary:eui_theme_dark_json_1.default.euiColorVis0,danger:eui_theme_dark_json_1.default.euiColorVis9}}else{colors={primary:eui_theme_light_json_1.default.euiColorVis1,secondary:eui_theme_light_json_1.default.euiColorVis0,danger:eui_theme_light_json_1.default.euiColorVis9}}_this.state={autorefreshIsPaused:autorefreshIsPaused,autorefreshInterval:autorefreshInterval,breadcrumbs:initialBreadcrumbs,colors:colors,dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd};return _this}_createClass(Application,[{key:"componentWillMount",value:function componentWillMount(){this.setBreadcrumbs([breadcrumbs_1.overviewBreadcrumb])}},{key:"render",value:function render(){var _this2=this;var _props=this.props,basePath=_props.basePath,isUsingK7Design=_props.isUsingK7Design,routerBasename=_props.routerBasename,graphQLClient=_props.graphQLClient;return react_2.default.createElement(i18n_2.I18nContext,null,react_2.default.createElement(react_router_dom_1.BrowserRouter,{basename:routerBasename},react_2.default.createElement(react_apollo_1.ApolloProvider,{client:graphQLClient},react_2.default.createElement(eui_1.EuiPage,{className:"app-wrapper-panel"},react_2.default.createElement(eui_1.EuiHeader,null,react_2.default.createElement(eui_1.EuiHeaderSection,{grow:true},react_2.default.createElement(eui_1.EuiHeaderSectionItem,{border:"right"},react_2.default.createElement(eui_1.EuiHeaderLogo,{"aria-label":i18n_1.i18n.translate("xpack.uptime.appHeader.uptimeLogoAriaLabel",{defaultMessage:"Go to Uptime home page"}),href:"#/",iconType:"uptimeApp",iconTitle:i18n_1.i18n.translate("xpack.uptime.appHeader.uptimeLogoTitle",{defaultMessage:"Uptime"})},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.appHeader.uptimeLogoText",defaultMessage:"Uptime"}))),!isUsingK7Design&&react_2.default.createElement(eui_1.EuiHeaderSectionItem,null,react_2.default.createElement("div",{style:{paddingTop:"20px",paddingRight:"8px"}},react_2.default.createElement(eui_1.EuiHeaderBreadcrumbs,{breadcrumbs:this.state.breadcrumbs})))),react_2.default.createElement(eui_1.EuiHeaderSection,{side:"right"},react_2.default.createElement(eui_1.EuiHeaderSectionItem,{border:"none"},react_2.default.createElement("div",{style:{marginTop:"4px",marginLeft:"16px",marginRight:"16px",minWidth:"600px"}},react_2.default.createElement(eui_1.EuiSuperDatePicker,{start:this.state.dateRangeStart,end:this.state.dateRangeEnd,isPaused:this.state.autorefreshIsPaused,refreshInterval:this.state.autorefreshInterval,onTimeChange:function onTimeChange(_ref){var start=_ref.start,end=_ref.end;_this2.setState({dateRangeStart:start,dateRangeEnd:end},_this2.persistState)},onRefreshChange:function onRefreshChange(_ref2){var isPaused=_ref2.isPaused,refreshInterval=_ref2.refreshInterval;var autorefreshInterval=refreshInterval===undefined?_this2.state.autorefreshInterval:refreshInterval;_this2.setState({autorefreshIsPaused:isPaused,autorefreshInterval:autorefreshInterval},_this2.persistState)},showUpdateButton:false})))),react_2.default.createElement(eui_1.EuiHeaderSection,{side:"right"},react_2.default.createElement(eui_1.EuiHeaderSection,null,react_2.default.createElement(eui_1.EuiHeaderLinks,null,react_2.default.createElement(eui_1.EuiHeaderLink,{"aria-label":i18n_1.i18n.translate("xpack.uptime.header.helpLinkAriaLabel",{defaultMessage:"Go to our discuss page"}),iconType:"help",href:"https://discuss.elastic.co/c/uptime",target:"_blank"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.header.helpLinkText",defaultMessage:"Discuss",description:"The link is to a support form called 'Discuss', where users can submit feedback."})))))),react_2.default.createElement(eui_1.EuiPageContent,null,react_2.default.createElement(react_router_dom_1.Switch,null,react_2.default.createElement(react_router_dom_1.Route,{exact:true,path:"/",render:function render(props){return react_2.default.createElement(pages_1.OverviewPage,Object.assign({basePath:basePath},props,_this2.state,{setBreadcrumbs:_this2.setBreadcrumbs}))}}),react_2.default.createElement(react_router_dom_1.Route,{path:"/monitor/:id",render:function render(props){return react_2.default.createElement(pages_1.MonitorPage,Object.assign({},props,_this2.state,{updateBreadcrumbs:_this2.setBreadcrumbs}))}})))))))}}]);return Application}(react_2.default.Component);exports.UptimeApp=function(props){return react_2.default.createElement(Application,Object.assign({},props))}},4274:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var monitor_1=__webpack_require__(4275);exports.MonitorPage=monitor_1.MonitorPage;var overview_1=__webpack_require__(4310);exports.OverviewPage=overview_1.OverviewPage},4275:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var breadcrumbs_1=__webpack_require__(844);var queries_1=__webpack_require__(1373);var MonitorPage=function(_react_1$default$Comp){_inherits(MonitorPage,_react_1$default$Comp);function MonitorPage(props){_classCallCheck(this,MonitorPage);return _possibleConstructorReturn(this,(MonitorPage.__proto__||Object.getPrototypeOf(MonitorPage)).call(this,props))}_createClass(MonitorPage,[{key:"componentWillMount",value:function componentWillMount(){this.props.updateBreadcrumbs(breadcrumbs_1.getMonitorPageBreadcrumb())}},{key:"render",value:function render(){var id=this.props.location.pathname.replace(/^(\/monitor\/)/,"");return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h2",null,id)),react_1.default.createElement(eui_1.EuiSpacer,{size:"l"}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(queries_1.MonitorStatusBarQuery,Object.assign({monitorId:id},this.props)),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(queries_1.MonitorChartsQuery,Object.assign({monitorId:id},this.props)),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(queries_1.PingListQuery,Object.assign({monitorId:id},this.props)))}}]);return MonitorPage}(react_1.default.Component);exports.MonitorPage=MonitorPage},4276:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var empty_state_query_1=__webpack_require__(4277);exports.EmptyStateQuery=empty_state_query_1.EmptyStateQuery},4277:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var lodash_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var empty_state_1=__webpack_require__(1374);var get_doc_count_1=__webpack_require__(4278);exports.EmptyStateQuery=function(_ref){var autorefreshInterval=_ref.autorefreshInterval,autorefreshIsPaused=_ref.autorefreshIsPaused,basePath=_ref.basePath,children=_ref.children;return react_1.default.createElement(react_apollo_1.Query,{query:get_doc_count_1.getDocCountQuery,pollInterval:autorefreshIsPaused?undefined:autorefreshInterval},function(_ref2){var loading=_ref2.loading,error=_ref2.error,data=_ref2.data;if(loading){return i18n_1.i18n.translate("xpack.uptime.emptyState.loadingMessage",{defaultMessage:"Loading…"})}if(error){return i18n_1.i18n.translate("xpack.uptime.emptyState.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var count=lodash_1.get(data,"getDocCount.count",0);return react_1.default.createElement(empty_state_1.EmptyState,{children:children,count:count})})}},4278:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getDocCountQueryString="\n{\n  getDocCount {\n    count\n  }\n}\n";exports.getDocCountQuery=graphql_tag_1.default(_templateObject,exports.getDocCountQueryString)},4279:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var error_list_query_1=__webpack_require__(4280);exports.ErrorListQuery=error_list_query_1.ErrorListQuery},4280:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var functional_1=__webpack_require__(465);var get_error_list_1=__webpack_require__(4290);exports.ErrorListQuery=function(_ref){var autorefreshInterval=_ref.autorefreshInterval,autorefreshIsPaused=_ref.autorefreshIsPaused,dateRangeStart=_ref.dateRangeStart,dateRangeEnd=_ref.dateRangeEnd,filters=_ref.filters;return react_1.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,query:get_error_list_1.getErrorListQuery,variables:{dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,filters:filters}},function(_ref2){var loading=_ref2.loading,error=_ref2.error,data=_ref2.data;if(error){return i18n_1.i18n.translate("xpack.uptime.errorList.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var errorList=data.errorList;return react_1.default.createElement(functional_1.ErrorList,{loading:loading,errorList:errorList})})}},4281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var moment_1=tslib_1.__importDefault(__webpack_require__(11));var react_2=tslib_1.__importStar(__webpack_require__(0));var react_router_dom_1=__webpack_require__(28);exports.ErrorList=function(_ref){var loading=_ref.loading,errorList=_ref.errorList;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h5",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.errorList.title",defaultMessage:"Error list"}))),react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiInMemoryTable,{loading:loading,items:errorList,columns:[{field:"type",name:i18n_1.i18n.translate("xpack.uptime.errorList.errorTypeColumnLabel",{defaultMessage:"Error type"})},{field:"monitorId",name:i18n_1.i18n.translate("xpack.uptime.errorList.monitorIdColumnLabel",{defaultMessage:"Monitor ID"}),render:function render(id){return react_2.default.createElement(react_router_dom_1.Link,{to:"/monitor/"+id},id)},width:"25%"},{field:"count",name:i18n_1.i18n.translate("xpack.uptime.errorList.CountColumnLabel",{defaultMessage:"Count"})},{field:"timestamp",name:i18n_1.i18n.translate("xpack.uptime.errorList.latestErrorColumnLabel",{defaultMessage:"Latest error"}),render:function render(timestamp){return moment_1.default(timestamp).fromNow()}},{field:"statusCode",name:i18n_1.i18n.translate("xpack.uptime.errorList.statusCodeColumnLabel",{defaultMessage:"Status code"})},{field:"latestMessage",name:i18n_1.i18n.translate("xpack.uptime.errorList.latestMessageColumnLabel",{defaultMessage:"Latest message"}),width:"40%"}],pagination:{initialPageSize:10,pageSizeOptions:[5,10,20,50]}})))}},4282:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var lodash_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var search_schema_1=__webpack_require__(4283);var MAX_SELECTION_LENGTH=20;var SEARCH_THRESHOLD=2;exports.FilterBar=function(_ref){var _ref$filterBar=_ref.filterBar,id=_ref$filterBar.id,port=_ref$filterBar.port,type=_ref$filterBar.type,updateQuery=_ref.updateQuery;var showFilterDisclaimer=id&&id.length&&id.length>MAX_SELECTION_LENGTH||port&&port.length&&port.length>MAX_SELECTION_LENGTH;var filters=[{type:"field_value_toggle_group",field:"monitor.status",items:[{value:"up",name:i18n_1.i18n.translate("xpack.uptime.filterBar.filterUpLabel",{defaultMessage:"Up"})},{value:"down",name:i18n_1.i18n.translate("xpack.uptime.filterBar.filterDownLabel",{defaultMessage:"Down"})}]},{type:"field_value_selection",field:"monitor.id",name:i18n_1.i18n.translate("xpack.uptime.filterBar.options.hostLabel",{defaultMessage:"ID"}),multiSelect:false,options:lodash_1.take(id||[],MAX_SELECTION_LENGTH).map(function(idValue){return{value:idValue,view:idValue}}),searchThreshold:SEARCH_THRESHOLD},{type:"field_value_selection",field:"tcp.port",name:i18n_1.i18n.translate("xpack.uptime.filterBar.options.portLabel",{defaultMessage:"Port"}),multiSelect:false,options:lodash_1.take(port||[],MAX_SELECTION_LENGTH).map(function(portValue){return{value:portValue,view:portValue}}),searchThreshold:SEARCH_THRESHOLD},{type:"field_value_selection",field:"monitor.type",name:i18n_1.i18n.translate("xpack.uptime.filterBar.options.typeLabel",{defaultMessage:"Type"}),multiSelect:false,options:type&&type.map(function(typeValue){return{value:typeValue,view:typeValue}}),searchThreshold:SEARCH_THRESHOLD}];return react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:true},react_1.default.createElement(eui_1.EuiSearchBar,{onChange:function onChange(_ref2){var query=_ref2.query;try{var esQuery=void 0;if(query&&query.text){esQuery=eui_1.EuiSearchBar.Query.toESQuery(query)}updateQuery(esQuery)}catch(e){updateQuery(undefined)}},filters:filters,schema:search_schema_1.filterBarSearchSchema})),showFilterDisclaimer&&react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiToolTip,{position:"left",title:i18n_1.i18n.translate("xpack.uptime.filterBar.filterLimitationsTooltipTitle",{defaultMessage:"Filter limitations"}),content:i18n_1.i18n.translate("xpack.uptime.filterBar.filterLimitationsTooltipText",{values:{selectionLength:MAX_SELECTION_LENGTH},defaultMessage:"The top {selectionLength} filter options for each field are displayed, but you can modify the filters manually or search for additional values."})},react_1.default.createElement(eui_1.EuiIcon,{type:"iInCircle",size:"l"}))))}},4283:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.filterBarSearchSchema={strict:true,fields:{"monitor.id":{type:"string"},"monitor.status":{type:"string"},"monitor.ip":{type:"string"},"monitor.host":{type:"string"},"monitor.scheme":{type:"string"},"tcp.port":{type:"number"}}}},4284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var searchBox={placeholder:i18n_1.i18n.translate("xpack.uptime.filterBar.loadingMessage",{defaultMessage:"Loading…"})};exports.FilterBarLoading=function(){return react_1.default.createElement(eui_1.EuiSearchBar,{box:searchBox,onChange:function onChange(){}})}},4285:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatSparklineCounts=function(counts){var defaultSize=0;var length=counts.length;if(length>1){defaultSize=Math.max(counts[1].x-counts[0].x,0)}else if(length===1){return[]}return counts.map(function(_ref,index,array){var x0=_ref.x,y=_ref.y;var x=void 0;var nextIndex=index+1;if(nextIndex===array.length){x=x0+defaultSize}else{var nextX=array[nextIndex].x;x=nextX}return{x:x,x0:x0,y:y}})}},4286:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(2);var moment_1=tslib_1.__importDefault(__webpack_require__(11));var react_2=tslib_1.__importStar(__webpack_require__(0));var columns=[{field:"monitor.status",name:i18n_1.i18n.translate("xpack.uptime.pingList.statusColumnLabel",{defaultMessage:"Status"}),render:function render(pingStatus){return react_2.default.createElement(eui_1.EuiHealth,{color:pingStatus==="up"?"success":"danger"},pingStatus==="up"?i18n_1.i18n.translate("xpack.uptime.pingList.statusColumnHealthUpLabel",{defaultMessage:"Up"}):i18n_1.i18n.translate("xpack.uptime.pingList.statusColumnHealthDownLabel",{defaultMessage:"Down"}))}},{field:"timestamp",name:i18n_1.i18n.translate("xpack.uptime.pingList.timestampColumnLabel",{defaultMessage:"Timestamp"}),render:function render(timestamp){return moment_1.default(timestamp).fromNow()}},{field:"monitor.ip",name:i18n_1.i18n.translate("xpack.uptime.pingList.ipAddressColumnLabel",{defaultMessage:"IP"})},{field:"monitor.id",name:i18n_1.i18n.translate("xpack.uptime.pingList.idColumnLabel",{defaultMessage:"Id"}),dataType:"string",width:"20%"},{field:"monitor.duration.us",name:i18n_1.i18n.translate("xpack.uptime.pingList.durationMsColumnLabel",{defaultMessage:"Duration ms",description:'The "ms" in the default message is an abbreviation for milliseconds'}),render:function render(duration){return duration/1e3}},{field:"error.type",name:i18n_1.i18n.translate("xpack.uptime.pingList.errorTypeColumnLabel",{defaultMessage:"Error type"})},{field:"error.message",name:i18n_1.i18n.translate("xpack.uptime.pingList.errorMessageColumnLabel",{defaultMessage:"Error message"}),render:function render(message){return message&&message.length>25?react_2.default.createElement(eui_1.EuiToolTip,{position:"top",title:i18n_1.i18n.translate("xpack.uptime.pingList.columns.errorMessageTooltipTitle",{defaultMessage:"Error message"}),content:react_2.default.createElement("p",null,message)},react_2.default.createElement("div",null,message.slice(0,24),"…")):message}},{field:"http.response.status_code",name:i18n_1.i18n.translate("xpack.uptime.pingList.responseCodeColumnLabel",{defaultMessage:"Response code"})}];exports.PingList=function(props){var pings=lodash_1.get(props,"pingResults.pings");var total=lodash_1.get(props,"pingResults.total");var loading=props.loading;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h4",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.pingList.checkHistoryTitle",defaultMessage:"Check History"})))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},typeof pings!=="undefined"&&react_2.default.createElement(eui_1.EuiBadge,{color:"primary"},total))),react_2.default.createElement(eui_1.EuiPanel,{paddingSize:"l"},react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,{label:i18n_1.i18n.translate("xpack.uptime.pingList.statusLabel",{defaultMessage:"Status"})},react_2.default.createElement(eui_1.EuiComboBox,{isClearable:false,singleSelection:{asPlainText:true},selectedOptions:[props.selectedOption],options:props.statusOptions,onChange:props.selectedOptionChanged})))),react_2.default.createElement(eui_1.EuiInMemoryTable,{loading:loading,columns:columns,items:pings,pagination:{initialPageSize:10,pageSizeOptions:[5,10,20,100]}})))}},4287:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var snapshot_histogram_1=__webpack_require__(1377);exports.Snapshot=function(_ref){var danger=_ref.danger,_ref$snapshot=_ref.snapshot,up=_ref$snapshot.up,down=_ref$snapshot.down,total=_ref$snapshot.total,histogram=_ref$snapshot.histogram,primary=_ref.primary,windowWidth=_ref.windowWidth;return react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:"baseline",gutterSize:"xl"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:4},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h5",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.snapshot.endpointStatusTitle",defaultMessage:"Endpoint status"}))),react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceEvenly",gutterSize:"xl"},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiStat,{description:i18n_1.i18n.translate("xpack.uptime.snapshot.stats.upDescription",{defaultMessage:"Up"}),textAlign:"center",title:up,titleColor:"primary"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiStat,{description:i18n_1.i18n.translate("xpack.uptime.snapshot.stats.downDescription",{defaultMessage:"Down"}),textAlign:"center",title:down,titleColor:"danger"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiStat,{description:i18n_1.i18n.translate("xpack.uptime.snapshot.stats.totalDescription",{defaultMessage:"Total"}),textAlign:"center",title:total,titleColor:"subdued"})))))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:8,style:{paddingTop:"12px",paddingRight:"12px"}},react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h5",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.snapshot.statusOverTimeTitle",defaultMessage:"Status over time"}))),react_2.default.createElement(eui_1.EuiPanel,{paddingSize:"s",style:{maxHeight:"137px"}},histogram&&react_2.default.createElement(snapshot_histogram_1.SnapshotHistogram,{dangerColor:danger,histogram:histogram,primaryColor:primary,windowWidth:windowWidth}),!histogram&&react_2.default.createElement(eui_1.EuiEmptyPrompt,{title:react_2.default.createElement(eui_1.EuiTitle,null,react_2.default.createElement("h5",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.snapshot.noDataTitle",defaultMessage:"No histogram data available"}))),body:react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.snapshot.noDataDescription",defaultMessage:"There is no data available for the histogram"}))}))))}},4288:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));exports.SnapshotLoading=function(){return react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h5",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.snapshot.endpointStatusTitle",defaultMessage:"Endpoint status"}))),react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"spaceEvenly",gutterSize:"xl"},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiStat,{description:i18n_1.i18n.translate("xpack.uptime.snapshot.stats.upDescription",{defaultMessage:"Up"}),textAlign:"center",title:"-",titleColor:"primary"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiStat,{description:i18n_1.i18n.translate("xpack.uptime.snapshot.stats.downDescription",{defaultMessage:"Down"}),textAlign:"center",title:"-",titleColor:"danger"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiStat,{description:i18n_1.i18n.translate("xpack.uptime.snapshot.stats.totalDescription",{defaultMessage:"Total"}),textAlign:"center",title:"-",titleColor:"subdued"})))))))}},4289:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var moment_1=tslib_1.__importDefault(__webpack_require__(11));var react_2=tslib_1.__importDefault(__webpack_require__(0));exports.StatusBar=function(_ref){var timestamp=_ref.timestamp,host=_ref.host,port=_ref.port,duration=_ref.duration,scheme=_ref.scheme,status=_ref.status;return react_2.default.createElement(eui_1.EuiPanel,null,react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"l"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiHealth,{"aria-label":i18n_1.i18n.translate("xpack.uptime.monitorStatusBar.healthStatusMessageAriaLabel",{defaultMessage:"Monitor status"}),color:status==="up"?"success":"danger",style:{lineHeight:"inherit"}},status==="up"?i18n_1.i18n.translate("xpack.uptime.monitorStatusBar.healthStatusMessage.upLabel",{defaultMessage:"Up"}):i18n_1.i18n.translate("xpack.uptime.monitorStatusBar.healthStatusMessage.downLabel",{defaultMessage:"Down"}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.healthStatus.hostMessage",values:{host:host},defaultMessage:"Host: {host}"})),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.healthStatus.portMessage",values:{port:port},defaultMessage:"Port: {port}"})),react_2.default.createElement(eui_1.EuiFlexItem,{"aria-label":i18n_1.i18n.translate("xpack.uptime.monitorStatusBar.durationTextAriaLabel",{defaultMessage:"Monitor duration in milliseconds"}),grow:false},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.healthStatus.durationInMillisecondsMessage",values:{duration:duration},defaultMessage:"{duration}ms",description:"The 'ms' is an abbreviation for 'milliseconds'."})),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorStatusBar.healthStatus.schemeMessage",values:{scheme:scheme},defaultMessage:"Scheme: {scheme}"})),react_2.default.createElement(eui_1.EuiFlexItem,{"aria-label":i18n_1.i18n.translate("xpack.uptime.monitorStatusBar.timestampFromNowTextAriaLabel",{defaultMessage:"Time since last check"}),grow:false},moment_1.default(timestamp).fromNow())))}},4290:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getErrorListQueryString="\nquery ErrorList($dateRangeStart: String!, $dateRangeEnd: String!, $filters: String) {\n  errorList: getErrorsList(\n    dateRangeStart: $dateRangeStart\n    dateRangeEnd: $dateRangeEnd\n    filters: $filters\n  ) {\n    latestMessage\n    monitorId\n    type\n    monitorType\n    count\n    statusCode\n    timestamp\n  }\n}\n";exports.getErrorListQuery=graphql_tag_1.default(_templateObject,exports.getErrorListQueryString)},4291:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filter_bar_query_1=__webpack_require__(4292);exports.FilterBarQuery=filter_bar_query_1.FilterBarQuery},4292:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var functional_1=__webpack_require__(465);var get_filter_bar_1=__webpack_require__(4293);exports.FilterBarQuery=function(_ref){var autorefreshInterval=_ref.autorefreshInterval,autorefreshIsPaused=_ref.autorefreshIsPaused,dateRangeStart=_ref.dateRangeStart,dateRangeEnd=_ref.dateRangeEnd,updateQuery=_ref.updateQuery;return react_1.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,query:get_filter_bar_1.getFilterBarQuery,variables:{dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd}},function(_ref2){var loading=_ref2.loading,error=_ref2.error,data=_ref2.data;if(loading){return react_1.default.createElement(functional_1.FilterBarLoading,null)}if(error){return i18n_1.i18n.translate("xpack.uptime.filterBar.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var filterBar=data.filterBar;return react_1.default.createElement(functional_1.FilterBar,{filterBar:filterBar,updateQuery:updateQuery})})}},4293:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getFilterBarQueryString="\nquery FilterBar($dateRangeStart: String!, $dateRangeEnd: String!) {\n  filterBar: getFilterBar(dateRangeStart: $dateRangeStart, dateRangeEnd: $dateRangeEnd) {\n    status\n    port\n    id\n    type\n  }\n}\n";exports.getFilterBarQuery=graphql_tag_1.default(_templateObject,exports.getFilterBarQueryString)},4294:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var monitor_charts_query_1=__webpack_require__(4295);exports.MonitorChartsQuery=monitor_charts_query_1.MonitorChartsQuery},4295:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var i18n_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importStar(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var get_monitor_charts_1=__webpack_require__(4296);exports.MonitorChartsQuery=function(_ref){var _ref$colors=_ref.colors,primary=_ref$colors.primary,secondary=_ref$colors.secondary,danger=_ref$colors.danger,dateRangeStart=_ref.dateRangeStart,dateRangeEnd=_ref.dateRangeEnd,monitorId=_ref.monitorId,autorefreshIsPaused=_ref.autorefreshIsPaused,autorefreshInterval=_ref.autorefreshInterval;return react_2.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,query:get_monitor_charts_1.createGetMonitorChartsQuery,variables:{dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,monitorId:monitorId}},function(_ref2){var loading=_ref2.loading,error=_ref2.error,data=_ref2.data;if(loading){return i18n_1.i18n.translate("xpack.uptime.monitorCharts.loadingMessage",{defaultMessage:"Loading…"})}if(error){return i18n_1.i18n.translate("xpack.uptime.monitorCharts.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var monitorChartsData=data.monitorChartsData;var avgDurationSeries=[];var areaDurationSeries=[];var downSeries=[];var upSeries=[];var checksSeries=[];monitorChartsData.forEach(function(_ref3){var avgDuration=_ref3.avgDuration,maxDuration=_ref3.maxDuration,minDuration=_ref3.minDuration,status=_ref3.status;avgDurationSeries.push(avgDuration);areaDurationSeries.push({x:minDuration.x,y0:minDuration.y,y:maxDuration.y});downSeries.push({x:status.x,y:status.down});upSeries.push({x:status.x,y:status.up});checksSeries.push({x:status.x,y:status.total})});var checksDomain=upSeries.concat(downSeries).map(function(_ref4){var y=_ref4.y;return y});var checkDomainLimits=[0,Math.max.apply(Math,_toConsumableArray(checksDomain))];var durationDomain=avgDurationSeries.concat(areaDurationSeries);var durationDomainLimits=[0,Math.max.apply(Math,_toConsumableArray(durationDomain.map(function(_ref5){var y=_ref5.y;return y})))];return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h4",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorCharts.monitorDuration.titleLabel",defaultMessage:"Monitor Duration ms",description:"The 'ms' is an abbreviation for milliseconds."}))),react_2.default.createElement(eui_1.EuiPanel,{style:{maxWidth:520,maxHeight:220}},react_2.default.createElement(eui_1.EuiSeriesChart,{margins:{left:60,right:40,top:10,bottom:40},width:500,height:200,xType:eui_1.EuiSeriesChartUtils.SCALE.TIME,xCrosshairFormat:"YYYY-MM-DD hh:mmZ",yDomain:durationDomainLimits},react_2.default.createElement(eui_1.EuiAreaSeries,{color:secondary,name:i18n_1.i18n.translate("xpack.uptime.monitorCharts.monitorDuration.series.durationRangeLabel",{defaultMessage:"Duration range"}),data:areaDurationSeries,curve:"curveBasis"}),react_2.default.createElement(eui_1.EuiLineSeries,{color:primary,name:i18n_1.i18n.translate("xpack.uptime.monitorCharts.monitorDuration.series.meanDurationLabel",{defaultMessage:"Mean duration"}),data:avgDurationSeries})))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xs"},react_2.default.createElement("h4",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.uptime.monitorCharts.checkStatus.title",defaultMessage:"Check status"}))),react_2.default.createElement(eui_1.EuiPanel,{style:{maxWidth:520,maxHeight:220}},react_2.default.createElement(eui_1.EuiSeriesChart,{margins:{left:60,right:40,top:10,bottom:40},width:500,height:200,xType:eui_1.EuiSeriesChartUtils.SCALE.TIME,xCrosshairFormat:"YYYY-MM-DD hh:mmZ",stackBy:"y",yDomain:checkDomainLimits},react_2.default.createElement(eui_1.EuiAreaSeries,{name:i18n_1.i18n.translate("xpack.uptime.monitorCharts.checkStatus.series.upCountLabel",{defaultMessage:"Up count"}),data:upSeries,curve:"curveBasis",color:primary}),react_2.default.createElement(eui_1.EuiAreaSeries,{name:i18n_1.i18n.translate("xpack.uptime.monitorCharts.checkStatus.series.downCountLabel",{defaultMessage:"Down count"}),data:downSeries,curve:"curveBasis",color:danger}))))))})}},4296:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.createGetMonitorChartsQueryString="\nquery MonitorCharts($dateRangeStart: String!, $dateRangeEnd: String!, $monitorId: String!) {\n  monitorChartsData: getMonitorChartsData(\n    monitorId: $monitorId\n    dateRangeStart: $dateRangeStart\n    dateRangeEnd: $dateRangeEnd\n  ) {\n    minDuration {\n      x\n      y\n    }\n    maxDuration {\n      x\n      y\n    }\n    maxContent {\n      x\n      y\n    }\n    maxResponse {\n      x\n      y\n    }\n    maxValidate {\n      x\n      y\n    }\n    maxTotal {\n      x\n      y\n    }\n    maxWriteRequest {\n      x\n      y\n    }\n    maxTcpRtt {\n      x\n      y\n    }\n    avgDuration {\n      x\n      y\n    }\n    status {\n      x\n      up\n      down\n      total\n    }\n  }\n}\n";exports.createGetMonitorChartsQuery=graphql_tag_1.default(_templateObject,exports.createGetMonitorChartsQueryString)},4297:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var monitor_list_query_1=__webpack_require__(4298);exports.MonitorListQuery=monitor_list_query_1.MonitorListQuery},4298:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var lodash_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var monitor_list_1=__webpack_require__(1376);var get_monitor_list_1=__webpack_require__(4299);exports.MonitorListQuery=function(_ref){var autorefreshInterval=_ref.autorefreshInterval,autorefreshIsPaused=_ref.autorefreshIsPaused,_ref$colors=_ref.colors,primary=_ref$colors.primary,danger=_ref$colors.danger,dateRangeStart=_ref.dateRangeStart,dateRangeEnd=_ref.dateRangeEnd,filters=_ref.filters;return react_1.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,query:get_monitor_list_1.getMonitorListQuery,variables:{dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,filters:filters}},function(_ref2){var loading=_ref2.loading,error=_ref2.error,data=_ref2.data;if(error){return i18n_1.i18n.translate("xpack.uptime.monitorList.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var monitors=lodash_1.get(data,"monitorStatus.monitors",undefined);return react_1.default.createElement(monitor_list_1.MonitorList,{dangerColor:danger,loading:loading,monitors:monitors||[],primaryColor:primary})})}},4299:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getMonitorListQueryString="\n  query MonitorList($dateRangeStart: String!, $dateRangeEnd: String!, $filters: String) {\n    monitorStatus: getMonitors(\n      dateRangeStart: $dateRangeStart\n      dateRangeEnd: $dateRangeEnd\n      filters: $filters\n    ) {\n      monitors {\n        key {\n          id\n          port\n        }\n        ping {\n          timestamp\n          monitor {\n            status\n            type\n            host\n            ip\n            duration {\n              us\n            }\n          }\n        }\n        upSeries {\n          x\n          y\n        }\n        downSeries {\n          x\n          y\n        }\n      }\n    }\n  }\n";exports.getMonitorListQuery=graphql_tag_1.default(_templateObject,exports.getMonitorListQueryString)},4300:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var monitor_status_bar_query_1=__webpack_require__(4301);exports.MonitorStatusBarQuery=monitor_status_bar_query_1.MonitorStatusBarQuery},4301:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var lodash_1=__webpack_require__(2);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var functional_1=__webpack_require__(465);var empty_status_bar_1=__webpack_require__(1375);var format_duration_1=__webpack_require__(4302);var get_monitor_status_bar_1=__webpack_require__(4303);exports.MonitorStatusBarQuery=function(_ref){var dateRangeStart=_ref.dateRangeStart,dateRangeEnd=_ref.dateRangeEnd,monitorId=_ref.monitorId,autorefreshIsPaused=_ref.autorefreshIsPaused,autorefreshInterval=_ref.autorefreshInterval;return react_1.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,query:get_monitor_status_bar_1.getMonitorStatusBarQuery,variables:{dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,monitorId:monitorId}},function(_ref2){var loading=_ref2.loading,error=_ref2.error,data=_ref2.data;if(loading){return react_1.default.createElement(empty_status_bar_1.EmptyStatusBar,{message:"Fetching data",monitorId:monitorId})}if(error){return i18n_1.i18n.translate("xpack.uptime.monitorStatusBar.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var monitorStatus=lodash_1.get(data,"monitorStatus");if(!monitorStatus||!monitorStatus.length){return react_1.default.createElement(empty_status_bar_1.EmptyStatusBar,{monitorId:monitorId})}var _monitorStatus$=monitorStatus[0],monitor=_monitorStatus$.monitor,timestamp=_monitorStatus$.timestamp,tcp=_monitorStatus$.tcp;var status=lodash_1.get(monitor,"status",undefined);var host=lodash_1.get(monitor,"host",undefined);var port=lodash_1.get(tcp,"port",undefined);var scheme=lodash_1.get(monitor,"scheme",undefined);var duration=parseInt(lodash_1.get(monitor,"duration.us"),10);return react_1.default.createElement(functional_1.StatusBar,{duration:format_duration_1.formatDuration(duration),host:host,port:port,scheme:scheme,status:status,timestamp:timestamp})})}},4302:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatDuration=function(duration){if(duration===undefined){return"0"}return isNaN(duration)?"0":(duration/1e3).toPrecision(5)}},4303:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getMonitorStatusBarQueryString="\nquery MonitorStatus($dateRangeStart: String!, $dateRangeEnd: String!, $monitorId: String) {\n  monitorStatus: getLatestMonitors(\n    dateRangeStart: $dateRangeStart\n    dateRangeEnd: $dateRangeEnd\n    monitorId: $monitorId\n  ) {\n    timestamp\n    millisFromNow\n    monitor {\n      status\n      host\n      ip\n      duration {\n        us\n      }\n      scheme\n    }\n    tcp {\n      port\n    }\n  }\n}\n";exports.getMonitorStatusBarQuery=graphql_tag_1.default(_templateObject,exports.getMonitorStatusBarQueryString)},4304:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var ping_list_query_1=__webpack_require__(4305);exports.PingListQuery=ping_list_query_1.PingListQuery},4305:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var functional_1=__webpack_require__(465);var get_pings_1=__webpack_require__(4306);var DEFAULT_MAX_SEARCH_SIZE=100;var PingListQuery=function(_react_1$default$Comp){_inherits(PingListQuery,_react_1$default$Comp);function PingListQuery(props){_classCallCheck(this,PingListQuery);var _this=_possibleConstructorReturn(this,(PingListQuery.__proto__||Object.getPrototypeOf(PingListQuery)).call(this,props));_this.onSearchSizeBlur=function(e){var sanitizedValue=parseInt(e.target.value,10);if(!isNaN(sanitizedValue)){_this.setState({maxSearchSize:sanitizedValue>=1e4?1e4:sanitizedValue})}};_this.onSelectedOptionChange=function(selectedOptions){if(selectedOptions[0]){_this.setState({selectedOption:selectedOptions[0]})}};var statusOptions=[{label:i18n_1.i18n.translate("xpack.uptime.pingList.statusOptions.allStatusOptionLabel",{defaultMessage:"All"}),value:""},{label:i18n_1.i18n.translate("xpack.uptime.pingList.statusOptions.upStatusOptionLabel",{defaultMessage:"Up"}),value:"up"},{label:i18n_1.i18n.translate("xpack.uptime.pingList.statusOptions.downStatusOptionLabel",{defaultMessage:"Down"}),value:"down"}];_this.state={statusOptions:statusOptions,selectedOption:statusOptions[2],maxSearchSize:DEFAULT_MAX_SEARCH_SIZE};return _this}_createClass(PingListQuery,[{key:"render",value:function render(){var _this2=this;var _props=this.props,monitorId=_props.monitorId,dateRangeStart=_props.dateRangeStart,dateRangeEnd=_props.dateRangeEnd,autorefreshIsPaused=_props.autorefreshIsPaused,autorefreshInterval=_props.autorefreshInterval,sort=_props.sort,size=_props.size;var selectedOption=this.state.selectedOption;return react_1.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,variables:{monitorId:monitorId,dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,status:selectedOption.value==="up"||selectedOption.value==="down"?selectedOption.value:"",size:this.state.maxSearchSize||size||DEFAULT_MAX_SEARCH_SIZE,sort:sort||"desc"},query:get_pings_1.getPingsQuery},function(_ref){var loading=_ref.loading,error=_ref.error,data=_ref.data;if(error){return i18n_1.i18n.translate("xpack.uptime.pingList.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var allPings=data.allPings;var maxSearchSize=_this2.state.maxSearchSize;return react_1.default.createElement(functional_1.PingList,{loading:loading,maxSearchSize:maxSearchSize,pingResults:allPings,searchSizeOnBlur:_this2.onSearchSizeBlur,selectedOption:_this2.state.selectedOption,selectedOptionChanged:_this2.onSelectedOptionChange,statusOptions:_this2.state.statusOptions})})}}]);return PingListQuery}(react_1.default.Component);exports.PingListQuery=PingListQuery},4306:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getPingsQueryString="\nquery PingList(\n  $dateRangeStart: String!\n  $dateRangeEnd: String!\n  $monitorId: String\n  $status: String\n  $sort: String\n  $size: Int\n) {\n  allPings(\n    dateRangeStart: $dateRangeStart\n    dateRangeEnd: $dateRangeEnd\n    monitorId: $monitorId\n    status: $status\n    sort: $sort\n    size: $size\n  ) {\n      total\n      pings {\n        timestamp\n        http {\n          response {\n            status_code\n          }\n        }\n        error {\n          message\n          type\n        }\n        monitor {\n          duration {\n            us\n          }\n          id\n          ip\n          name\n          scheme\n          status\n          type\n        }\n      }\n    }\n  }\n";exports.getPingsQuery=graphql_tag_1.default(_templateObject,exports.getPingsQueryString)},4307:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var snapshot_query_1=__webpack_require__(4308);exports.SnapshotQuery=snapshot_query_1.SnapshotQuery},4308:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var i18n_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(201);var functional_1=__webpack_require__(465);var get_snapshot_1=__webpack_require__(4309);var SnapshotQuery=function(_react_1$default$Comp){_inherits(SnapshotQuery,_react_1$default$Comp);function SnapshotQuery(props){_classCallCheck(this,SnapshotQuery);var _this=_possibleConstructorReturn(this,(SnapshotQuery.__proto__||Object.getPrototypeOf(SnapshotQuery)).call(this,props));_this.updateWindowSize=function(){_this.setState({windowWidth:window.innerWidth})};_this.state={windowWidth:window.innerWidth};return _this}_createClass(SnapshotQuery,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.updateWindowSize)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.updateWindowSize)}},{key:"render",value:function render(){var _this2=this;var _props=this.props,autorefreshIsPaused=_props.autorefreshIsPaused,autorefreshInterval=_props.autorefreshInterval,_props$colors=_props.colors,primary=_props$colors.primary,danger=_props$colors.danger,dateRangeStart=_props.dateRangeStart,dateRangeEnd=_props.dateRangeEnd,filters=_props.filters;return react_1.default.createElement(react_apollo_1.Query,{pollInterval:autorefreshIsPaused?undefined:autorefreshInterval,query:get_snapshot_1.getSnapshotQuery,variables:{dateRangeStart:dateRangeStart,dateRangeEnd:dateRangeEnd,filters:filters}},function(_ref){var loading=_ref.loading,error=_ref.error,data=_ref.data;if(loading){return react_1.default.createElement(functional_1.SnapshotLoading,null)}if(error){return i18n_1.i18n.translate("xpack.uptime.snapshot.errorMessage",{values:{message:error.message},defaultMessage:"Error {message}"})}var snapshot=data.snapshot;return react_1.default.createElement(functional_1.Snapshot,{danger:danger,primary:primary,snapshot:snapshot,windowWidth:_this2.state.windowWidth})})}}]);return SnapshotQuery}(react_1.default.Component);exports.SnapshotQuery=SnapshotQuery},4309:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  ","\n"],["\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(61));exports.getSnapshotQueryString="\nquery Snapshot(\n  $dateRangeStart: String!\n  $dateRangeEnd: String!\n  $filters: String\n) {\nsnapshot: getSnapshot(\n  dateRangeStart: $dateRangeStart\n  dateRangeEnd: $dateRangeEnd\n  filters: $filters\n) {\n  up\n  down\n  total\n  histogram {\n      upCount\n      downCount\n      x\n      x0\n      y\n    }\n  }\n}\n";exports.getSnapshotQuery=graphql_tag_1.default(_templateObject,exports.getSnapshotQueryString)},4310:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(6);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importStar(__webpack_require__(0));var breadcrumbs_1=__webpack_require__(844);var queries_1=__webpack_require__(1373);var OverviewPage=function(_react_1$default$Comp){_inherits(OverviewPage,_react_1$default$Comp);function OverviewPage(props){_classCallCheck(this,OverviewPage);var _this=_possibleConstructorReturn(this,(OverviewPage.__proto__||Object.getPrototypeOf(OverviewPage)).call(this,props));_this.state={currentFilterQuery:undefined};return _this}_createClass(OverviewPage,[{key:"componentWillMount",value:function componentWillMount(){this.props.setBreadcrumbs(breadcrumbs_1.getOverviewPageBreadcrumbs())}},{key:"render",value:function render(){var _this2=this;return react_1.default.createElement(react_1.Fragment,null,react_1.default.createElement(queries_1.EmptyStateQuery,Object.assign({},this.props),react_1.default.createElement(queries_1.FilterBarQuery,Object.assign({},this.props,{updateQuery:function updateQuery(query){_this2.setState({currentFilterQuery:query?JSON.stringify(query):query})}})),react_1.default.createElement(queries_1.SnapshotQuery,Object.assign({filters:this.state.currentFilterQuery},this.props)),react_1.default.createElement(eui_1.EuiSpacer,{size:"xl"}),react_1.default.createElement(queries_1.MonitorListQuery,Object.assign({filters:this.state.currentFilterQuery},this.props)),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(queries_1.ErrorListQuery,Object.assign({filters:this.state.currentFilterQuery},this.props))))}}]);return OverviewPage}(react_1.default.Component);exports.OverviewPage=OverviewPage},465:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var empty_state_1=__webpack_require__(1374);exports.EmptyState=empty_state_1.EmptyState;var empty_status_bar_1=__webpack_require__(1375);exports.EmptyStatusBar=empty_status_bar_1.EmptyStatusBar;var error_list_1=__webpack_require__(4281);exports.ErrorList=error_list_1.ErrorList;var filter_bar_1=__webpack_require__(4282);exports.FilterBar=filter_bar_1.FilterBar;var filter_bar_loading_1=__webpack_require__(4284);exports.FilterBarLoading=filter_bar_loading_1.FilterBarLoading;var monitor_list_1=__webpack_require__(1376);exports.MonitorList=monitor_list_1.MonitorList;var ping_list_1=__webpack_require__(4286);exports.PingList=ping_list_1.PingList;var snapshot_1=__webpack_require__(4287);exports.Snapshot=snapshot_1.Snapshot;var snapshot_histogram_1=__webpack_require__(1377);exports.SnapshotHistogram=snapshot_histogram_1.SnapshotHistogram;var snapshot_loading_1=__webpack_require__(4288);exports.SnapshotLoading=snapshot_loading_1.SnapshotLoading;var status_bar_1=__webpack_require__(4289);exports.StatusBar=status_bar_1.StatusBar},844:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(5);exports.monitorBreadcrumb={text:i18n_1.i18n.translate("xpack.uptime.breadcrumbs.monitorBreadcrumbText",{defaultMessage:"Monitor"})};exports.overviewBreadcrumb={text:i18n_1.i18n.translate("xpack.uptime.breadcrumbs.overviewBreadcrumbText",{defaultMessage:"Overview"}),href:"#/"};exports.getOverviewPageBreadcrumbs=function(){return[exports.overviewBreadcrumb]};exports.getMonitorPageBreadcrumb=function(){return[exports.overviewBreadcrumb,exports.monitorBreadcrumb]}}});